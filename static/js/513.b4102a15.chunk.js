"use strict";(self.webpackChunkmaufruits_webapp=self.webpackChunkmaufruits_webapp||[]).push([[513],{7409:function(e,a,n){n.d(a,{Z:function(){return t}});var r=n(184),t=function(e){return(0,r.jsx)("div",{className:"error-displayBox",children:(0,r.jsx)("p",{className:"center-text",children:e.msg})})}},1974:function(e,a,n){n(2791),n(3037);var r=n(184);a.Z=function(e){var a=e.placeholder,n=e.valid,t=void 0===n||n,s=e.type,o=void 0===s?"text":s,i=e.name,c=e.value,l=void 0===c?"":c,u=e.onChange,d=e.children;return(0,r.jsxs)("div",{className:"input-data input-data-input ".concat(t?"":"invalid"),children:[(0,r.jsx)("input",{type:o,name:i,defaultValue:l,placeholder:a,onChange:u,required:!0}),d]})}},3062:function(e,a,n){n.d(a,{K:function(){return r}});var r="https://maufruits-api.herokuapp.com/api"},8513:function(e,a,n){n.r(a),n.d(a,{default:function(){return w}});var r=n(1413),t=n(885),s=n(2791),o=n(3504),i=n(6871),c=n(3728),l=n(1974),u=n(7513),d=n(2868),h=n(8524),p=n(7409),m=n(9434),x=n(7543),f=n(3062),g=n(184),j=function(e){var a=e.error,n=e.userData,r=e.onChange;return(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)("h2",{children:"Create a new account"}),a&&(0,g.jsx)(p.Z,{msg:a.message}),(0,g.jsxs)("div",{className:"name-field flex",children:[(0,g.jsx)(l.Z,{placeholder:"First name",name:"fname",value:n.fname,onChange:r}),(0,g.jsx)(l.Z,{placeholder:"Other name",name:"othername",value:n.othername,onChange:r})]}),(0,g.jsx)(l.Z,{placeholder:"Email",type:"email",name:"email",value:n.email,onChange:r}),(0,g.jsx)(l.Z,{placeholder:"Password",type:"password",name:"password",value:n.password,onChange:r}),(0,g.jsx)(l.Z,{placeholder:"Confirm password",type:"password",name:"cPassword",value:n.cPassword,onChange:r}),(0,g.jsx)(u.Z,{className:"m-top-20",type:"submit",width:!0,children:"Sign up"})]})},v=function(e){var a=e.error,n=e.userData,r=e.onChange;return(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)("h2",{children:"Sign in to MauFruits"}),a&&(0,g.jsx)(p.Z,{msg:a.message}),(0,g.jsx)(l.Z,{placeholder:"Email",type:"email",name:"email",value:n.email,onChange:r}),(0,g.jsx)(l.Z,{placeholder:"Password",type:"password",name:"password",value:n.password,onChange:r}),(0,g.jsx)(u.Z,{className:"m-top-20",type:"submit",width:!0,children:"Login"}),(0,g.jsx)("p",{className:"pwd-txt",children:"Forgot password?"})]})},w=function(e){var a=(0,m.I0)(),n=(0,m.v9)((function(e){return e.user.registered})),l=(0,d.Z)(),u=l.loading,p=l.setError,w=l.error,Z=l.fetchData,C=(0,s.useState)({}),N=(0,t.Z)(C,2),y=N[0],b=N[1],k=(0,i.TH)(),S=k.state?k.state.redirectUrl:"/MauFruits",F=function(){b({}),p(null)},P={error:w,userData:y,onChange:function(e){var a=e.target,n=a.name,r=a.value,t=y;t[n]=r,b(t)}};return(0,g.jsxs)(s.Fragment,{children:[n&&(0,g.jsx)(i.Fg,{to:S,replace:!0}),(0,g.jsx)("main",{className:"main-auth",children:(0,g.jsxs)("form",{name:e.signup?"signup":"signin",onSubmit:function(e){e.preventDefault(),Z({url:"".concat(f.K,"/user/auth/").concat(e.target.name),method:"POST",headers:{"content-type":"application/json"},body:y},(function(e){e.accessToken&&a((0,x.zB)(e))}))},className:"ls-container",children:[u&&(0,g.jsx)(h.Z,{}),e.signup?(0,g.jsx)(j,(0,r.Z)({},P)):(0,g.jsx)(v,(0,r.Z)({},P)),(0,g.jsxs)("div",{className:"separator",children:[(0,g.jsx)("hr",{}),(0,g.jsx)("p",{className:"bold-text",children:"or"})]}),(0,g.jsxs)("button",{className:"btn-light googleBtn flex center-v center-h",children:[(0,g.jsx)(c.JM8,{})," Continue with google"]}),e.signup?(0,g.jsxs)("p",{className:"center-text",children:["Already have an account? ",(0,g.jsx)(o.rU,{to:"/MauFruits/login",children:(0,g.jsx)("span",{onClick:F,className:"pwd-txt",children:"SIGN IN"})})]}):(0,g.jsxs)("p",{className:"center-text",children:["Need an account? ",(0,g.jsx)(o.rU,{to:"/MauFruits/signup",children:(0,g.jsx)("span",{onClick:F,className:"pwd-txt",children:"SIGN UP"})})]})]})})]})}},2868:function(e,a,n){var r=n(1413),t=n(5861),s=n(885),o=n(7757),i=n.n(o),c=n(2791);a.Z=function(){var e=(0,c.useState)(!1),a=(0,s.Z)(e,2),n=a[0],o=a[1],l=(0,c.useState)(null),u=(0,s.Z)(l,2),d=u[0],h=u[1],p=(0,c.useCallback)(function(){var e=(0,t.Z)(i().mark((function e(a,n){var t,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),h(null),e.prev=2,e.next=5,fetch(a.url,{method:a.method?a.method:"GET",headers:a.headers?a.headers:{},body:JSON.stringify(a.body)});case 5:return t=e.sent,e.next=8,t.json();case 8:if(s=e.sent,t.ok){e.next=12;break}throw h((0,r.Z)((0,r.Z)({},s),{},{statusCode:t.status})),new Error("Request failed!");case 12:n(s),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),h((function(e){return e||{message:"Something went wrong with our server. Please try again later",statusCode:500}}));case 18:o(!1);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(a,n){return e.apply(this,arguments)}}(),[]);return{loading:n,setError:h,error:d,fetchData:p}}},3037:function(){}}]);
//# sourceMappingURL=513.b4102a15.chunk.js.map